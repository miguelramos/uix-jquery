/**
 *  ─────╔╗╔═╗─╔╗──╔╗
 *	╔╦╦╦═╣╚╣═╬╦╣╚╦╗╠╬══╦═╗╔═╦═╦══╗
 *	║║║║╩╣╬╠═║║║╬║╚╣║║║║╩╬╣═╣╬║║║║
 *	╚══╩═╩═╩═╩═╩═╩═╩╩╩╩╩═╩╩═╩═╩╩╩╝
 * ------------------------------------------------------------------------------------
 * widget.icons.js
 * ------------------------------------------------------------------------------------
 *
 * Icons maps.
 * 
 * @package Widget Icones
 * @author  Miguel Ramos <miguel.marques.ramos@gmail.com>
 * @link    https://www.websublime.com
 * @version 0.0.3
 */(function(e){e.widget("uix.icons",{widgetEventPrefix:"on.event.",options:{version:"0.0.3",debug:!0,tag:"i",item:"div",selected:null,colored:null,visible:!1,visibleTitle:"Icon Chooser",icons:["map-icon-art-gallery","map-icon-campground","map-icon-bank","map-icon-hair-care","map-icon-gym","map-icon-point-of-interest","map-icon-post-box","map-icon-post-office","map-icon-university","map-icon-beauty-salon","map-icon-atm","map-icon-rv-park","map-icon-school","map-icon-library","map-icon-spa","map-icon-route","map-icon-postal-code","map-icon-stadium","map-icon-postal-code-prefix","map-icon-museum","map-icon-finance","map-icon-natural-feature","map-icon-funeral-home","map-icon-cemetery","map-icon-park","map-icon-lodging","map-icon-female","map-icon-male","map-icon-unisex","map-icon-toilet","map-icon-bakery","map-icon-cafe","map-icon-restaurant","map-icon-food","map-icon-liquor-store","map-icon-bicycle-store","map-icon-pet-store","map-icon-hardware-store","map-icon-book-store","map-icon-furniture-store","map-icon-department-store","map-icon-electronics-store","map-icon-jewelry-store","map-icon-clothing-store","map-icon-convenience-store","map-icon-store","map-icon-shopping-mall","map-icon-movie-rental","map-icon-grocery-or-supermarket","map-icon-florist","map-icon-laundry","map-icon-abseiling","map-icon-archery","map-icon-baseball","map-icon-bicycling","map-icon-climbing","map-icon-golf","map-icon-hang-gliding","map-icon-horse-riding","map-icon-inline-skating","map-icon-motobike-trail","map-icon-playground","map-icon-skateboarding","map-icon-tennis","map-icon-trail-walking","map-icon-viewing","map-icon-walking","map-icon-boating","map-icon-boat-ramp","map-icon-boat-tour","map-icon-canoe","map-icon-diving","map-icon-fishing","map-icon-fishing-pier","map-icon-fish-cleaning","map-icon-jet-skiing","map-icon-kayaking","map-icon-marina","map-icon-rafting","map-icon-sailing","map-icon-scuba-diving","map-icon-surfing","map-icon-swimming","map-icon-waterskiing","map-icon-whale-watching","map-icon-wind-surfing","map-icon-chairlift","map-icon-cross-country-skiing","map-icon-ice-fishing","map-icon-ice-skating","map-icon-ski-jumping","map-icon-skiing","map-icon-sledding","map-icon-snow-shoeing","map-icon-snow","map-icon-snowboarding","map-icon-snowmobile","map-icon-train-station","map-icon-subway-station","map-icon-bus-station","map-icon-transit-station","map-icon-parking","map-icon-gas-station","map-icon-car-rental","map-icon-car-dealer","map-icon-car-repair","map-icon-car-wash","map-icon-airport","map-icon-taxi-stand","map-icon-health","map-icon-dentist","map-icon-doctor","map-icon-hospital","map-icon-pharmacy","map-icon-physiotherapist","map-icon-veterinary-care","map-icon-bar","map-icon-amusement-park","map-icon-aquarium","map-icon-casino","map-icon-movie-theater","map-icon-night-club","map-icon-zoo","map-icon-bowling-alley","map-icon-storage","map-icon-electrician","map-icon-moving-company","map-icon-painter","map-icon-plumber","map-icon-roofing-contractor","map-icon-general-contractor","map-icon-locksmith","map-icon-insurance-agency","map-icon-lawyer","map-icon-real-estate-agency","map-icon-travel-agency","map-icon-accounting","map-icon-courthouse","map-icon-political","map-icon-local-government","map-icon-embassy","map-icon-city-hall","map-icon-fire-station","map-icon-police","map-icon-place-of-worship","map-icon-church","map-icon-mosque","map-icon-synagogue","map-icon-hindu-temple"]},_create:function(){var t,n,r,i,s,o;this._setAttributes();this._collapse();t=this._createModel(),n=null,r=e("input").tag({name:"icon[]",type:"hidden","class":"id-icon-select"}),i=e("input").tag({name:"color[]",type:"hidden","class":"id-color-select"}),s=[],o=this;e.each(this.options.icons,function(n,r){var i=t.clone();i.append(e(o.options.tag).tag({"class":r}));s.push(i)});this.element.on("on.event.check",o._onIconSelect);this.element.on("on.event.select",o._onColorSelect);n=this._setupIcons(s);this.options.selected&&r.attr("value",this.options.selected);this.options.colored&&i.attr("value",this.options.colored);n.append(r).append(i).append(e("div").tag({"class":"clearfix"}));this.element.append(n);this.options.debug&&console.log(this);return this},_setAttributes:function(){this.element.data("iconItem")&&this._setOption("item",this.element.data("iconItem"));this.element.data("iconTag")&&this._setOption("tag",this.element.data("iconTag"));this.element.data("iconSelected")&&this._setOption("selected",this.element.data("iconSelected"));this.element.data("iconColor")&&this._setOption("colored",this.element.data("iconColor"))},_setupIcons:function(t){var n=e("div").tag({"class":"uix-icon-container"}),r=e("div").tag({"class":"ui-icon-check"}).append(e("i").tag({"class":"fa fa-check"})),i=e("div").tag({"class":"js-ui-color"}),s=this;e.each(t,function(t,o){var u=i.clone();o.append(r.clone());u.on("click",function(t){var n;t.preventDefault();t.stopPropagation();n=e(this);e(this).ColorPicker({flat:!1,onShow:function(){if(n.attr("color")){n.css("backgroundColor",n.attr("color"));n.ColorPickerSetColor(n.attr("color"))}n.css({display:"block"})},onHide:function(){n.css({display:""})},onChange:function(e,t){n.css("backgroundColor","#"+t)},onSubmit:function(e,r){n.css({backgroundColor:"#"+r,display:""});n.attr("color","#"+r);n.ColorPickerHide();s.options.color="#"+r;s._trigger("select",t,{color:"#"+r,trigger:this})}});e(this).ColorPickerShow()});o.on("click",function(t){t.preventDefault();t.stopPropagation();e(this).parent().find(".icon-select")&&e(this).parent().find(".icon-select").removeClass("icon-select").children(".ui-icon-check").css("display","none");e(this).children(".ui-icon-check").css("display","block");e(this).addClass("icon-select");s.options.selected=e(s.options.tag,o).attr("class");s._trigger("check",t,{icon:s.options.selected})});o.append(u);if(s.options.selected&&s.options.selected.localeCompare(e(s.options.tag,o).attr("class"))==0){o.addClass("icon-select");o.children(".ui-icon-check").css("display","block");if(s.options.colored){o.css("color",s.options.colored);u.css("backgroundColor",s.options.colored).attr("color",s.options.colored)}}n.append(o)});this.options.visible?n.css("display","block"):n.css("display","none");return n},_collapse:function(){var t=e("div").tag({"class":"uix-collapse"}),n=e("i").tag({"class":"fa"}),r=e("header").tag({"class":"uix-collapse-title"}),i=e("div").tag({"class":"clearfix"});r.append(this.options.visibleTitle);this.option.visible?n.addClass("fa-caret-square-o-up"):n.addClass("fa-caret-square-o-down");n.on("click",function(t){t.stopPropagation();e("div.uix-icon-container").is(":visible")?e(this).addClass("fa-caret-square-o-down").removeClass("fa-caret-square-o-up"):e(this).addClass("fa-caret-square-o-up").removeClass("fa-caret-square-o-down");e("div.uix-icon-container").slideToggle(300)});t.append(n).append(r).append(i);this.element.append(t)},_onIconSelect:function(t,n){e(this).find("input.id-icon-select").attr("value",n.icon)},_onColorSelect:function(t,n){e(n.trigger.el).parent().css("color",n.color);e(this).find("input.id-color-select").attr("value",n.color)},_createModel:function(){return e(this.options.item).tag({"class":"js-uix-icon"})},_setOption:function(t,n){switch(t){case"tag":this.options.tag=this._setTag(n);break;case"selected":this.options.selected=this._setIconSelected(n);break;case"colored":this.options.colored=this._setIconColor(n);break;case"item":this.options.item=this._setItem(n);break;case"visible":this.options.visible=this._setIconCollapse(n)}e.Widget.prototype._setOption.apply(this,arguments);this._super("_setOption",t,n)},_setTag:function(e){return typeof e=="string"?tag:"i"},_setIconSelected:function(e){return in_array(e,this.options.icons)?e:null},_setIconColor:function(e){return strpos(e,"#")!==!1?e:null},_setItem:function(e){return typeof e=="string"?e:"div"},_setIconCollapse:function(e){return typeof e=="boolean"?e:!1},destroy:function(){e.Widget.prototype.destroy.call(this)}})})(jQuery);